if(void 0===window.Marquee3k&&function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Marquee3k=t()}(this,(function(){"use strict";let e=0;class t{constructor(e,t){this.element=e,this.selector=t.selector,this.speed=e.dataset.speed||.25,this.pausable=e.dataset.pausable,this.reverse=e.dataset.reverse,this.paused=!1,this.parent=e.parentElement,this.parentProps=this.parent.getBoundingClientRect(),this.content=e.children[0],this.innerContent=this.content.innerHTML,this.wrapStyles="",this.offset=0,this._setupWrapper(),this._setupContent(),this._setupEvents(),this.wrapper.appendChild(this.content),this.element.appendChild(this.wrapper)}_setupWrapper(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("cismarquee__wrapper"),this.wrapper.style.whiteSpace="nowrap"}_setupContent(){this.content.classList.add(`${this.selector}__copy`),this.content.style.display="inline-block",this.contentWidth=this.content.offsetWidth,this.requiredReps=this.contentWidth>this.parentProps.width?2:Math.ceil((this.parentProps.width-this.contentWidth)/this.contentWidth)+1;for(let e=0;e<this.requiredReps;e++)this._createClone();this.reverse&&(this.offset=-1*this.contentWidth),this.element.classList.add("is-init")}_setupEvents(){this.element.addEventListener("mouseenter",(()=>{this.pausable&&(this.paused=!0)})),this.element.addEventListener("mouseleave",(()=>{this.pausable&&(this.paused=!1)}))}_createClone(){const e=this.content.cloneNode(!0);e.style.display="inline-block",e.classList.add(`${this.selector}__copy`),this.wrapper.appendChild(e)}animate(){if(!this.paused){const e=this.reverse?this.offset<0:this.offset>-1*this.contentWidth,t=this.reverse?-1:1,s=this.reverse?-1*this.contentWidth:0;e?this.offset-=this.speed*t:this.offset=s,this.wrapper.style.whiteSpace="nowrap",this.wrapper.style.transform=`translate(${this.offset}px, 0) translateZ(0)`}}_refresh(){this.contentWidth=this.content.offsetWidth}repopulate(e,t){if(this.contentWidth=this.content.offsetWidth,t){const t=Math.ceil(e/this.contentWidth)+1;for(let e=0;e<t;e++)this._createClone()}}static refresh(e){MARQUEES[e]._refresh()}static pause(e){MARQUEES[e].paused=!0}static play(e){MARQUEES[e].paused=!1}static toggle(e){MARQUEES[e].paused=!MARQUEES[e].paused}static refreshAll(){for(let e=0;e<MARQUEES.length;e++)MARQUEES[e]._refresh()}static pauseAll(){for(let e=0;e<MARQUEES.length;e++)MARQUEES[e].paused=!0}static playAll(){for(let e=0;e<MARQUEES.length;e++)MARQUEES[e].paused=!1}static toggleAll(){for(let e=0;e<MARQUEES.length;e++)MARQUEES[e].paused=!MARQUEES[e].paused}static init(s={selector:"cismarquee"}){e&&window.cancelAnimationFrame(e),window.MARQUEES=[];const i=Array.from(document.querySelectorAll(`.${s.selector}`));let r,n=window.innerWidth;for(let e=0;e<i.length;e++){const r=i[e],n=new t(r,s);MARQUEES.push(n)}!function t(){for(let e=0;e<MARQUEES.length;e++)MARQUEES[e].animate();e=window.requestAnimationFrame(t)}(),window.addEventListener("resize",(()=>{clearTimeout(r),r=setTimeout((()=>{const e=n<window.innerWidth,t=window.innerWidth-n;for(let s=0;s<MARQUEES.length;s++)MARQUEES[s].repopulate(t,e);n=this.innerWidth}),250)}))}}return t})),void 0===window.yall){function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}var yall=function(){function e(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.target=s.target||"yall_lazy",this.classToLoad=s.classToLoad||"yall_loaded",this.threshold=s.threshold||0,this.root=document.querySelector(s.root),this.rootMargin=s.rootMargin||"0px 0px 100px 0px",this.callback=s.callback||null,this.useLoading=s.useLoading||!1,this.options={threshold:this.threshold,root:this.root,rootMargin:this.rootMargin},"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype&&"isIntersecting"in window.IntersectionObserverEntry.prototype&&("loading"in HTMLImageElement.prototype||!this.useLoading)||(this.fsafari=!0,Array.from(document.querySelectorAll("."+this.target+":not(."+this.classToLoad+")")).forEach((function(e){t.loadElem(e)})))}return _createClass(e,[{key:"loadElem",value:function(e){var t=e.dataset.src,s=e.dataset.srcset;t&&(e.src=t),s&&(e.srcset=s),e.classList.add(this.classToLoad),this.callback&&window[this.callback](e)}},{key:"run",value:function(){var e=this;if(!this.safari){var t=new IntersectionObserver((function(t,s){t.forEach((function(t){t.isIntersecting&&(e.loadElem(t.target),s.unobserve(t.target))}))}),this.options);Array.from(document.querySelectorAll("."+this.target+":not(."+this.classToLoad+")")).forEach((function(e){t.observe(e)}))}}}]),e}()}for(var lazyload=new yall({lazyClass:"cis-lazy"}),marquees=document.querySelectorAll(".cismarquee"),i=0;i<marquees.length;i++)marquees[i].setAttribute("data-marquee-index",i);function pauseChangeoverTickers(e){e.forEach((e=>{Marquee3k.pause(e)}))}function playChangeoverTickers(e){e.forEach((e=>{Marquee3k.play(e)}))}Marquee3k.init();const pausableChangeoverTickers=document.querySelectorAll('.cis-widget__ticker__wrapper[data-pausable="true"]');pausableChangeoverTickers.length>0&&pausableChangeoverTickers.forEach((e=>{const t=e.querySelectorAll(".cismarquee"),s=Array.from(t).map((e=>{const t=e.getAttribute("data-marquee-index");return parseInt(t,10)})).filter((e=>!isNaN(e)));e.addEventListener("mouseenter",(e=>{pauseChangeoverTickers(s)})),e.addEventListener("mouseleave",(e=>{playChangeoverTickers(s)}))})),window.addEventListener("DOMContentLoaded",(e=>{lazyload.run()}));
